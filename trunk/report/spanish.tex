\chapter{Resumen en español}
\label{ch:resumen}
	\selectlanguage{spanish}
	% Descripción del proyecto
	En este proyecto se expone la investigación realizada con el objetivo de desarrollar un receptor del estándar de redes de área personal inalámbricas 802.15.4 del IEEE para dispositivos Android a través de USB, aplicado a un sistema completo de monitorización electrocardiográfica (ECG), así como el proceso de desarollo del mismo. Este sistema se enmarca en el ámbito de la atención sanitaria personal: su principal aplicación es la montorización del estado del corazón por parte de un particular, eliminando la dependencia, respecto a esta tarea específica, con los sistemas de atención sanitaria tradicionales.\\

	Recientemente ha surgido un gran interés, tanto en el ámbito académico como en el industrial, en la producción de sistemas de monitorización ECG portátiles y de bajo consumo, llegando a ser una de las principales aplicaciones de las redes de sensores corporales inalámbricas.\\

	Para maximizar la portabilidad, en el desarrollo de estos sistemas se han empezado a emplear dispositivos móviles de gran capacidad de cómputo, particularmente smartphones, debido a la gran difusion que han tenido en los últimos años. En el 2011  se presentó un sistema, colaboración entre la Universidad Complutense de Madrid (UCM) y la École Polytechnique Fédérale de Lausanne (EPFL), para monitorización ECG de ámbito personal empleando un iPhone como visualizador y Bluetooth como tecnología de comunicación inalámbrica\todo{Citas en el resumen?}.\\

	De los resultados obtenidos por ese proyecto surge la presente iniciativa que trata de llevar al siguiente nivel las características inherentemente buenas de bajo consumo y bajo coste del mismo mediante la aplicación del protocolo 802.15.4, de mucho menor consumo energético que la tecnología Bluetooth, y la sustitución del dispositivo iOS por uno basado en Android, debido a su mayor accesibilidad y el menor coste, en general, de éstos.\\

	El sistema desarrollado en este proyecto presenta al usuario una representación visual de su onda ECG en tiempo real, resaltando puntos relevantes para simplificar la compresión de los datos mostrados. También muestra información sobre el ritmo cardiaco, y toda esta información es almacenada de forma transparente al usuario para su posterior consulta.\\

	Esta funcionalidad es posible gracias a la operación conjunta de los tres dispositivos que forman el sistema de monitorización: el nodo de delineación ECG, el receptor 802.15.4 y el dipositivo Android que actúa de interfaz con el sistema. El nodo de delineación ECG va conectado a la red de sensores corporal del usuario y se encarga de la captura y posterior análisis de la onda ECG, así como de la codificación y envío de la misma de forma inalámbrica. El receptor 802.15.4 conectado al sistema Android a través de USB controla la recepción de datos a traves de dicho protocolo y el envío de la información recibida al dispositivo Android. Éste actúa como decodificador y visualizador en tiempo real, y, como interfaz con el sistema, gestiona las conexiones inalámbricas y almacena y muestra los datos recibidos.\\

	Los objetivos del proyecto son, entonces, el desarrollo de la aplicación para dispositivos Android, la producción del receptor 802.15.4 y la comunicación de ambos con un nodo delineador ECG ya existente.\\

	La aplicación para dispositivos Android, como ya se ha mencionado, es la interfaz con la que el usuario interactúa con el sistema. Su diseño sigue las prácticas comunes de aplicaciones para este sistema operativo ya que el objetivo es que la curva de aprendizaje sea, si no nula, muy suave. Los motivos para emplear Android como sistema operativo base son tres: la importancia de éste entre los sistemas operativos móviles, el mayor rango de precios de los terminales que lo soportan, que permite una mayor difusión del sistema debido a la existencia de dispositivos de precio más reducido, y la naturaleza libre y de código abierto del entorno de desarrollo, característica que facilita la posterior expansión del sistema. Todos estos motivos pueden resumirse en que el empleo de Android como sistema operativo permite el acceso de un mayor número de usuarios al mismo.\\

	En cuanto al nodo delineador de la onda ECG, el objetivo es emplear uno ya desarrollado para el proyecto. Esto es así porque tanto el nodo delineador como la red de sensores corporales que capturan la onda ECG son sistemas especialmente complejos cuyos desarrollos ocuparían, cada uno, un proyecto de la envergadura del actual.\\

	El nodo delineador que se emplea en el proyecto es obtenido en el proyecto de la UCM y la EPFL antes mencionado. Este nodo se desarrolló inicialmente como un delineador de electrocardiografía en tiempo real de bajo consumo con capacidad para envíar los datos de forma inalámbrica a través de Bluetooth. En otro esfuerzo conjunto entre la EPFL y la UCM se dotó al nodo de funcionalidad para el envío empleando 802.15.4, pero tan sólo al nivel necesario para realizar algunas estimaciones de consumo. Incluso con la utilización real del estándar 802.15.4 estando aún por llegar, el nodo presenta las características necesarias para convertirse en un excelente punto de partida para el alcance de los objetivos del proyecto.\\

	El componente más importante del sistema en cuanto a este proyecto se refiere es el receptor USB de 802.15.4 en tiempo real para dispositivos Android. Su desarrollo es una necesidad puesto que los dispositivos Android actualmente no proporcionan soporte para el protocolo 802.15.4, aunque sí para otros como Bluetooth o Wi-Fi. Considerando que en el nodo delineador que se toma como punto de partida para el sistema la operación que supone mayor consumo de batería es la utilización de la infraestructura Bluetooth, como confirman los estudios realizados por la UCM y la EPFL, la producción del receptor 802.15.4 es, pues, imperativa.\\

	La existencia de otros proyectos con el objetivo de la dotación a dispositivos móviles del estándar 802.15.4 es un hecho conocido desde el inicio del proyecto, aunque éstos no tengan como objetivo el campo de la biomedicina o la monitorización personal. El motivo para no apoyar o emplear alguno de ellos es doble: por un lado, al comienzo del proyecto éstas iniciativas se encuentran o bien inconclusas o bien paralizadas; más aún, todas son proyectos aislados, generalmente desarrollados por una única persona y sin ningún tipo de soporte oficial ni garantías de finalización. Por otra parte, y siguiendo la idea de obtención de un sistema de tamaño reducido, el objetivo de este proyecto es emplear el dispositivo Android como maestro en la comunicación USB, de forma que el receptor 802.15.4 obtenga la alimentación a través de él, eliminando así la necesidad de emplear una batería que incrementaría el tamaño del receptor. Ninguno de los proyectos existentes emplea la capacidad de los dispositivos Android para asumir el rol de maestro en la comunicación, así que no son de utilidad real para el proyecto.\\

	% Motivación
	El desarrollo del proyecto viene motivado por dos razones principales: la 
	potencial utilidad que demuestra tener un sistema de estas características 
	y el interés que suscita a nivel académico.\\

	Según la Organización Mundial de la Salud (OMS), las enfermedades cardiovasculares representan la
	principal causa de mortalidad a nivel mundial. Sin embargo, la vigilancia que requieren las
	personas afectadas no es asumible, por lo general, por los sistemas de sanidad tradicionales. La
	monitorización doméstica continua supondría una gran ayuda para estas personas, pero todavía
	se trata un objetivo a cumplir.\\

	En un escenario como este, las redes inalámbricas de sensores corporales (wireless body sensor
	networks, WBSN) se presentan como herramientas de monitorización eficientes y asumibles
	económicamente. Particularmente, las WBSN aplicadas a la monitorización electrocardiográfica son
	de gran utilidad en el seguimiento de enfermedades cardiovasculares. De hecho, proyectos como el
	de la UCM y la EPFL mecionado anteriormente promueven la expansión de sistemas como estos.\\

	Además, con el uso de dispositivos portátiles, en particular smartphones, para mostrar los
	resultados de la monitorización se persigue la expansión de estos sistemas en todos los ámbitos
	de la sociedad, ya que permiten integrar el sistema en dispositivos ampliamente utilizados, 
	evitando así la necesidad de cargar con aparatos adicionales. La elección de Android como 
	plataforma reponde a	los factores de difusión y menor coste de los terminales que se mencionaron 
	anteriormente, con el objetivo principal 	de maximizar la expansión del sistema.\\

	Asimismo se busca el uso más extendido del sistema con el aumento de la duración de la
	batería y la reducción del tamaño de los nodos de monitorización: un consumo de batería menos
	exigente permite un número menor de interrupciones en la monitorización producidas durante el
	proceso de carga de la misma, mientras que el menor tamaño del dispositivo facilita el emleo
	contínuo del mismo. La utilización del estándar 802.15.4 responde a la búsqueda de la
	realización de estos objetivos.\\

	En conjunto, el uso de un dispositivo Android con capacidad de recepción 802.15.4 en un
	sistema de monitorización electrocardiográfica continua rebaja los requisitos de consumo de batería
	y tamaño del sistema completo, y de esta forma mejora la posibilidad de ser transportado y relaja
	las restricciones en su aplicación.\\

	Desde un punto de vista académico, la principal motivación que plantea el desarrollo de este
	proyecto es el hecho de que reune prácticamente todas las áreas de la carrera de Ingeniería
	Informática. Desde el mismo comienzo el proyecto implica desarrollo tanto software como
	hardware además de investigación en ámbitos externos al alcance de la propia carrera,
	como tecnologías inalámbricas de bajo consumo	o desarrollo para dispositivos móviles, así como 
	tareas de diseño y desarrollo en un amplio rango de niveles de abstracción.\\

	Se espera también que las tecnologías basadas en la especificación del estándar 802.15.4 del IEEE
	como ZigBee verán incrementada su relevancia a medio plazo debido a sus potenciales aplicaciones en
	campos como la domótica y la biomedicina, entre otros.\\

	Además, tanto el desarrollo de aplicaciones como de accesorios para smartphones u otro tipo de
	dispositivos portátiles son unas de las prácticas más habituales hoy en día en el ámbito del
	desarrollo de sistemas informáticos, y representan algunas de las actividades más demandadas. Por
	tanto, entrar en contacto con ellas proporciona una experiencia adicional en un campo puntero que
	no hace sino amplíar nuestro rango de habilidades y, por consiguiente, incrementa nuestro valor en 
	el mercado laboral.\\

	% Desarrollo
	Al comienzo del proyecto, evaluando los objetivos, se decide hacer una distinción muy clara entre dos partes del proyecto: por un lado, el desarrollo de la aplicación para Android y por otro, la investigación orientada al posterior desarrollo del receptor 802.15.4 así como la correcta utilización del nodo delineador seleccionado incluyendo las modificaciones que hubiera que hacerle al mismo.\\

	El desarrollo la aplicación Android se trata de un proyecto de desarrollo software de tamaño manejable cuyo mayor riesgo consiste en la falta de formación del equipo en el ámbito del desarrollo de aplicaciones para dispositivos móviles.\\

	Por su parte, el desarrollo del receptor 802.15.4 implica un esfuerzo de investigación hardware importante, ya que la mayoría de los objetivos planteados ni siquiera se sabe si son alcanzables. Es más, el desarrollo de dispositivos electrónicos al nivel requerido por el proyecto queda fuera del alcance de la formación recibida. Todo esto provee a la parte de desarrollo e investigación sobre hardware de un nivel de incertidumbre, tanto en la posibilidad real de alcanzar los objetivos propuestos, como en la capacidad del equipo para llevarlos a cabo, muy superior al existente en el desarrollo software.\\

	Esta situación propicia la división del proyecto en dos subproyectos a desarrollar de forma independiente pero teniendo en cuenta en todo momento la estrecha relación entre uno y otro. De esta forma en cada desarrollo se pueden aplicar las metodologías, técnicas y planificaciones más apropiadas para el tipo de trabajo concreto a realizar. Atendiendo a la estrecha dependencia entre los dos proyectos, y buscando evitar grandes descompensaciones entre ambos, se fija una planificación común a todo el proyecto de forma que ciertos hitos deben alcanzarse a la par en ambos desarrollos.\\

	De esta forma se asegura que la funcionalidad producida por un proyecto se completa en el otro mientras se deja libertad para aplicar el enfoque que se considere más efectivo en cada proyecto durante los ciclos de desarrollo. Además, dada la incertidumbre asociada a la investigación hardware, los plazos temporales para los hitos se asumen como variables y se manejan planes de actuación en la planificación del proyecto de desarrollo software para que el trabajo no se vea detenido por los potenciales retrasos. Se considera, entonces, que el camino crítico del proyecto está definido por el proyecto de investigación y desarrollo hardware y el proyecto de desarrollo software debe adaptarse a sus necesidades. Aún y así en la planificación del primero no se dejan de tener en cuenta las posibles contingencias del desarrollo software.\\

	La tecnología seleccionada para el desarrollo del proyecto es la siguiente:
		\begin{itemize}
			\item \emph{El dispositivo móvil tipo tableta basado en Android} Motorola Xoom
			
			Escogido entre otros modelos de terminales que soportan Android por su capacidad para asumir el rol de maestro en la comunicación USB. Además, la capacidad del procesador que incorpora y el hecho de integrar una GPU lo hacen especialmente aplicable para la consecución del objetivo de mostrar los datos de la electrocardiografía en tiempo real.
		
			\item \emph{Nodo delineador de ECG producido por la UCM y la EPFL}

			Este nodo se basa en la plataforma inalámbrica de sensores corporales \emph{Shimmer} para la captura de la onda electrocardiográfica y realiza un análisis de la misma (denominado delineación), enviando los datos a través de Bluetooth o, potencialmente, 802.15.4. El nodo se encuentra completamente desarrollado y validado al comienzo del presente proyecto, salvo la funcionalidad de envío a través de 802.15.4, que si bien está implementada en el dispositivo, no se ha probado de forma exhaustiva.

			\item \emph{La familia de microprocesadores de 16 bits} MSP430 \emph{de la firma} Texas Instruments

			Su elección se realiza teniendo en cuenta tanto su reducido consumo de energía como la sencillez en su programación, que permite utilizar C y depurar a través del estándar JTAG; pero principalmente por el hecho de que el nodo delineador ECG a emplear en el sistema utiliza esta misma familia de microprocesadores, y existe la posibilidad de reutilizar parte del código, especialmente el sistema operativo y la funcionalidad relacionada con envío inalámbrico a través de 802.15.4.\\

			\item \emph{Sistema operativo de tiempo real} FreeRTOS \emph{para dispositivos empotrados}

			El empleo de este sistema operativo viene determinado por la elección del nodo delineador, ya que éste emplea \emph{FreeRTOS} y la implementación de la capa MAC 802.15.4 para dicho sistema operativo se encuentra disponible y puede ser aplicada en el proyecto. Es más, dado que el microprocesador que llevará el receptor a desarrollar es el mismo que el del nodo delineador, el sistema operativo puede ser utilizado directamente en el receptor sin esperar la necesidad de muchas modificaciones. Como se menciona antes, la implementación de la capa MAC 802.15.4 para \emph{FreeRTOS} implementación no está totalmente completa, pero es un buen punto de partida.

		\end{itemize}

	Cada tecnología se aplica en uno de los subsistemas que forman el sistema completo. Aunque se ha trabajado también con otras tecnologías, éstas se irán mencionando a lo largo de la exposición del desarrollo del proyecto que se realiza a continuación, y por tanto se omite su enumeración en este punto. Se analiza primero el desarrollo relacionado con la parte de hardware del proyecto.\\

	El subproyecto de hardware contempla dos fases: por un lado la investigación sobre la factibilidad y la forma de alcanzar los objetivos propuestos, y por otro el desarrollo necesario para alcanzar dichos objetivos. Los objetivos concretos de este subproyecto son:

		\begin{enumerate}
			% \item La realización de un prototipo de comunicación USB con Android empleando una placa de prototipado Arduino
			\item Lograr la comunicación de un microprocesador MSP430 mediante USB con el dispositivo Android
			\item Inclusión de capacidad de comunicación a través USB en FreeRTOS
			\item Empleo de 802.15.4 en FreeRTOS en el procesador MSP430 seleccionado
			\item Asegurar la correcta operación de los módulos USB y 802.15.4 sobre FreeRTOS
			\item Diseñar el circuito impreso específico para dispositivo receptor USB 802.15.4
			\item Validación y producción del dispositivo receptor a partir del diseño
		\end{enumerate}

	Debido a las restricciones de tiempo y de disponibilidad del equipo al tener que hacer frente a este subproyecto en paralelo con el desarrollo software, se toma la decisión de establecer estos objetivos como los hitos para la planificación, añadiendo uno extra que contempla una fase de  prototipado inicial sobre una placa Arduino, que es bastante más sencillo que trabajar directamente con un MSP430 y sirve como toma de contacto inicial. Como se menciona anteriormente, los plazos para estos hitos se establecen tentativamente debido a la incertidumbre de cada objetivo.\\

	Cabe mencionar que en lugar de separar las fases de investigación y desarrollo asociadas a cada objetivo se opta por no establecer límites fijos entre ellas, de forma que cada objetivo comienza con el planteamiento de las potenciales líneas de investigación del mismo. Seguidamente comienza el desarrollo de una de las líneas de investigación propuestas, y si se llega a un resultado negativo, se descarta el trabajo y se selecciona otra línea de investigación. Este sistema, cercano a las metodologías de desarrollo extremas basadas en prototipos, junto con la flexibilidad de la planificación propuesta ha resultado ser clave para la correcta consecución de los objetivos del subproyecto de hardware.\\

	Detallamos ahora el proceso de desarrollo del subproyecto de software. Siendo este más cercano a un desarrollo tradicional, con menos incertidumbre en cuanto al resultado, se opta por aplicar una metodología de desarrollo ordenada con la que se asegure el cumplimiento de los plazos establecidos por el subproyecto de hardware. Debido a que se aplican las mismas restricciones temporales y de compartición de recursos que las expuestas anteriormente para el subproyecto de hardware, precisamente por la conducción de ambos en paralelo, se descarta la aplicación de metodologías de desarrollo con gran dependencia de la producción de artefactos, así como de metodologías que requieran planificaciones fijas.\\

	Se opta, entonces, por la aplicación de una metodología híbrida entre una metodología iterativa y una metodología de desarrollo rápido. Esto se traduce en el establecimiento de una planificación inicial en base a los objetivos del subproyecto de hardware. Esta planificación empareja los hitos del desarrollo hardware con la funcionalidad correspondiente de la aplicación Android y, centrándose en construir la mayor cantidad de funcionalidad posible cuanto antes, distribuye el resto de objetivos del subproyecto software. Además es necesario asumir en todo momento la posibilidad de una modificación en las fechas. \\

	Para hacer frente a ese tipo de contingencias se decide aplicar técnicas propias de metodologías iterativas como el análisis de riesgos y el desarrollo basado en casos de uso. De esta forma se mantiene el foco en el desarrollo de la funcionalidad clave aún cuando sea necesario un reajuste de los plazos o una mayor dedicación de recursos al subproyecto de hardware.\\

	Los casos de uso identificados para el sistema son los siguientes:

	\begin{itemize}
		\item UC1. Visualizar datos obtenidos por Bluetooth
		\item UC2. Visualizar datos obtenidos por receptor USB
		\item UC3. Visualizar datos de un archivo de log
		\item UC4. Ajustar parámetros de visualización
	\end{itemize}

	Como el receptor USB 802.15.4 es la culminación de la investigación hardware, la planificación de los esfuerzos de desarrollo se plantea de forma que todo el resto de la funcionalidad se construya y valide mientras el subproyecto de hardware desarrolla un prototipo del receptor, y una vez se tenga este prototipo se proceda a la implementación de la funcionalidad relacionada mientras se desarrolla la versión final. Gracias a este tipo de planificación y al minucioso análisis de riesgos llevado a cabo durante todo el desarrollo, los objetivos del subproyecto de software también han sido alcanzados de forma satisfactoria.\\

	Se ha logrado, entonces, la producción de un sistema de monitorización electrocardiográfica en tiempo real de bajo consumo y tamaño reducido empleando un dispositivo Android como interfaz con el usuario y el estándar 802.15.4 como protocolo de transmisión de datos inalámbrico. Este sistema provee toda la funcionalidad requerida: visualización de la onda ECG en tiempo real proveniente de nodos tanto 802.15.4 como Bluetooth, almacenamiento de ésta de forma permanente en archivos y su posterior visualización, así como capacidad para configurar los parámetros de la visualización tanto en tiempo real como de archivos. El sistema es, pues, una versión más accesible gracias al empleo de dispositivos Android y con un consumo energético dos órdenes de magnitud menor del sistema producido en 2011 por la Universidad Complutense de Madrid y la École Polytechnique Fédérale de Lausanne, lo cual es el principal objetivo del proyecto.\\

	Este hito se alcanza gracias a la correcta finalización tanto del subproyecto de investigación hardware como del de desarrollo software en que se dividide el proyecto. Las diferencias en el enfoque requeridas por cada subproyecto sumadas a la estricta dependencia entre ambos resultaban una complicación añadida en la previsión del resultado de los dos desarrollos; pero, gracias a la aplicación de planificaciones flexibles pero de objetivos firmes en cada uno que no dejaban de tener en cuenta posibles complicaciones en el otro, y que contaban con planes tanto de contingencia como de actuación ante ellas, se manejaron correctamente ambos proyectos, dando lugar al actual estado de finalización satisfactoria del proyecto.\\

	En cuanto al subproyecto de hardware, la producción del receptor USB de 802.15.4 para dispositivos Android se ha llevado a cabo con éxito. El dispositivo ha evolucionado desde las primeras etapas donde se empleaba una placa de prototipado hasta llegar a ser un circuito integrado diseñado expresamente para el proyecto. Este circuito integrado está completamente diseñado y validado, si bien no ha sido aún producido debido a los costes que ello supondría\todo{Eliminar esto si se hace o whatever}. En su lugar se ha utilizado un prototipo, de tamaño algo más reducido pero construido a partir del diseño final de la placa, para la validación del sistema.\\

	Las dimensiones del prototipo son 7.25 x 6.35 x 3.5 cm y necesita 3.3V de alimentación, aunque es utilizable a partir de 3.0V. La conexión USB es la que proporciona esta alimentación y además permite emplear el dispositivo en cualquier sistema capaz de comunicarse mediante HID, y ha sido probado con éxito tanto en dispositivos Android como en ordenadores ejecutando varias versiones de Windows.\\

	Con respecto a la aplicación para terminales Android producida en el subproyecto de software, proporciona toda la funcionalidad que entra dentro de los objetivos del proyecto de forma robusta y con un diseño similar al de las aplicaciones canónicas de Android. Es una aplicación, dentro del dominio específico de la monitorización electrocardigráfica, con funcionalidad de propósito general, que requeriría cierta especialización para ser realmente útil. Esta especialización deberá añadir funcionalidad para el escenario de aplicación particular, y el análisis de esos escenarios o la posible implementación de alguno de ellos queda fuera de los objetivos del proyecto.\\

	En cualquier caso, siendo conscientes de la necesidad de especialización futura de la aplicación, durante el diseño y desarrollo de la misma se puso un gran énfasis en que, además de ofrecer la funcionalidad requerida, proporcionase un conjunto de herramientas tal que pudiera actuar como un framework sobre el cual se pueda realizar el desarrollo de aplicaciones de monitorización ECG más específicas. Como detalle, mencionar que además de que el sistema está preparado para la inclusión sencilla de nuevas fuentes de datos además de Bluetooth, 802.15.4 y archivos, la fuente de datos de 802.15.4 en realidad es un dispositivo USB, en concreto el receptor, por lo que podría emplearse cualquier otro periférico que enviase datos con la codificación esperada en su lugar.\\

	Esto da una idea de la flexibilidad buscada, y alcanzada, del sistema de monitorización desarrollado. Apoyándose en ella, se plantean potenciales líneas de trabajo futuro, distinguiendo entre las que se podrían realizar a corto plazo y las que serían ya para un medio o largo plazo.\\

	Por un lado, un particular afectado de una enfermedad cardiovascular que requiere de monitorización electrocardiográfica constante, observando los objetivos y los resultados del proyecto actual, presentó al departamento un proyecto de especialización del sistema desarrollado para sus necesidades particulares, que son comunes al colectivo de afectados por dicha enfermedad. Este nuevo sistema ha de incorporar, además de la funcionalidad presente en el actual, algunas características nuevas:

	\begin{itemize}
		\item Etiquetado de eventos durante la delineación, de forma que el usuario pueda indicar al sistema en qué momentos se encuentra mal y la información quede almacenada junto a la onda ECG. De esta forma podría estudiarse posteriormente la información guardada de forma más detallada para mejorar la compresión del estado del paciente.
		\item Adición de información temporal a los logs, de manera que el usuario pueda consultar
			directamente la onda ECG relativa a un momento concreto en el que se encontró mal, o que
			pueda saltar al momento indicado por un marcador de eventos. Esto facilitaría la consulta
			y navegación por los datos almacenados.
		\item Comandos de voz que permitan interactuar con el sistema sin necesidad de emplear las
			manos, ya que, ya sea por su estado de salud o porque las tenga ocupadas, es posible que
			el usuario no pueda manejar la aplicación.
		\item Avisos automáticos en caso de que se produzca algún evento relevante relacionado con la
			salud del usuario, de manera que se pueda alertar al mismo, algún pariente o personal
			cualificado en caso de ser necesario. Además, estos avisos podrían hacerse de varias
			formas, ya sea a través de mensaje, correos electrónicos con localización GPS adjunta o
			incluso llamadas de voz automáticas directamente.
	\end{itemize}

	Por otra parte, se contemplan una serie de expansiones del sistema más a largo plazo, debido sobre
	todo a que requieren de más tiempo y recursos, aparte de una planificación específica. En primer
	lugar se proponen mejoras enfocadas a la monitorización de varios pacientes, para un entorno más
	profesional, en dos posibles versiones:

	\begin{itemize}
		\item Dado que el receptor desarrollado también es compatible con dispositivos que soporten el
			protocolo HID, se propone utilizarlo conectado a un PC que actúe como servidor, recibiendo
			los datos ECG procedentes de los nodos de varios pacientes. Una vez estos datos están en
			el servidor, la propia aplicación Android permitiría conectarse a este para descargarlos
			y visualizarlos en el dispositivo.
		\item Teniendo en cuenta que la pantalla de un tablet es relativamente grande, se puede
			aprovechar para mostrar los resultados de la monitorización de varios pacientes a la vez.
			Como parte de esta nueva funcionalidad también se encontraría la de cambiar entre la onda
			ECG de otros pacientes, guardado de logs simultáneo y subida a un servidor dedicado.
	\end{itemize}

	También a largo plazo, aunque en el campo de la automonitorización, se plantea la adaptación del
	sistema a dominios particulares que imponen requisitos adicionales debido, sobre todo, al entorno
	en el que se utilizaría. En este sentido, el director del Laboratorio de Sistemas Empotrados (ESL)
	de la EPFL (equipo responsable junto a la UCM del desarrollo del nodo delineador que se usa en
	este proyecto) ha mostrado interés en la aplicación de los bajos requisitos de consumo del sistema
	en otro proyecto de la EPFL con el que está colaborando, el Solar Impulse.\\

	Este proyecto en concreto trata de conseguir un vuelo alrededor del mundo evitando el uso de
	carburantes de cualquier tipo, utilizando únicamente energía solar. El avión utilizado es de una
	única plaza, por lo que las constantes vitales del piloto deben estar monitorizadas en todo
	momento. Por el momento, la monitorización electrocardiográfica se lleva a cabo utilizando el
	sistema desarrollado por la UCM y la EPFL, con la escasa duración de batería que ello implica.\\

	Teniendo en cuenta que el espacio dentro de la cabina es muy reducido, cualquier tarea debe ser
	llevada a cabo con especial cuidado y únicamente cuando sea absolutamente necesario. Es por ello
	que el intercambio de la batería del nodo delineador debe ser una tarea lo menos frecuente posible,
	entre otras razones porque interrumpe la monitorización en el proceso.\\

	Por tanto, la reducción del consumo de energía y el consiguiente aumento de la duración de la
	batería plantean un avance muy significativo para un proyecto como el del Solar Impulse, tarea
	que se puede conseguir mediante el empleo del estándar 802.15.4 como protocolo de comunicación
	inalámbrico.\\

	% Y ahora conclusiones finales
	Llegados a este punto, con el proyecto finalizado y habiendo analizado el estado final del mismo, así como algunas de las potenciales líneas de trabajo futuro, parece relevante plantear algunas conclusiones alcanzadas durante el desarrollo a modo de conclusión.\\

	En la fase de inicio del proyecto, incluso habiendo ya decidido el emplo de un dispositivo Android como la interfaz para mostar los datos en tiempo real, el equipo tenía cierto recelo acerca de la aplicación de Android como base para el desarrollo de aplicaciones con las restricciones de tiempo real como las que imponía el proyecto. Durante el proceso de desarrollo el hecho de que Android posiblemente no sea la plataforma más adecuada para este tipo de funcionalidad se hizo patente ya que, incluso con la potencia de cómputo y las capacidades gráficas de los dispositivos actuales, las restricciones impuestas por el sistema operativo complican considerablemente la implementación fiable de funcionalidad en tiempo real.\\

	En un sistema como el desarrollado en este proyecto el empleo de un dispositivo especialmente dedicado a la visualización y almacenamiento de datos en tiempo real hubiera permitido un nivel mayor de fiabilidad, e incluso una representación más visualmente atractiva, cumpliendo además con las restricciones temporales, pero los beneficios de utilizar Android compensan ampliamente este tipo de carencias.\\

	Entre los más importantes de estos beneficios, al menos en el ámbito del proyecto,  se encuentran la sencillez en el desarrollo de aplicaciones para Android, que simplifica la ampliación del sistema en el futuro, y, aún más relevante, la amplia difusión de estos dispositivos entre el público general, de forma que el sistema es mucho más accesible.
	Si bien estos beneficios se han tratado a lo largo de todo este documento, se antojaban merecedores de una última mención. La selección, pues, de Android como plataforma para la aplicación del sistema puede considerarse como una de las decisiones más acertadas del proyecto.\\

	Incluso con la sencillez que Android aporta a la parte de desarrollo software, procesos de desarrollo como el llevado a cabo en este proyecto, que dan lugar a subproyectos de diferentes características y con dependencias entre ellos, pueden llegar a ser empresas inalcanzables si no se encaran de manera adecuada. Más aún, en este caso concreto el carácter principalmente de investigación de la rama de desarrollo hardware no hacía sino complicar el planteamiento del proceso.\\

	Durante el desarrollo del proyecto se han aplicado algunas técnicas que han probado ser de gran relevancia para la correcta finalización del mismo. Las más relevantes son, como se expone anteriormente, el empleo de una planificación flexible que admita modificaciones, ya que debe basarse en suposiciones la mayor parte del tiempo; la utilización de un proceso de gestión de riesgos minucioso para contrarrestar las dificultades producidas por los potenciales cambios en la planificación y el mantenimiento del foco sobre el objetivo actual, sus plazos y dependencias, gracias a una metodología de desarrollo basada en casos de uso. Gran parte del éxito en la satisfacción de objetivos de este proyecto puede otorgarse a la aplicación rigurosa de las técnicas anteriores.\\

	La importancia de los sistemas de monitorización para colectivos afectados por enfermedades cardiovasculares específicas ha quedado patente durante el desarrollo del proyecto. Este área presenta un gran potencial de desarrollo, especialmente si se considera que estos sistemas van a ser utilizados en su día a día por la gente que los necesite. Los proyectos surgidos en este área deben considerar siempre al usuario final durante todo el proceso de desarrollo ya que un pequeño esfuerzo de cara a este, como reducir el número de operaciones requeridas para iniciar la visualización o simplificar la manera en que se interactúa con la aplicación, por pequeños que puedan parecer los efectos, puede mejorar sensiblemente la calidad de vida del usuario. Esto es así porque molestias aparentemente inocuas en la interfaz de usuario, por ejemplo, pueden convertirse en una fuente constatnte de frustración cuando la aplicación se utiliza día tras día.\\
	\selectlanguage{english}